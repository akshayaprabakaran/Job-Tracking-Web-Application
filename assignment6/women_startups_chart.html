<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8"/>
	<meta name="viewport" cntent="width=device-width, initial-scale =1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge" />
	<title> Women Entrepreneurs</title>
	<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
</head>
<body>
	<h1 style="color:rgb(96, 32, 64); font-family:Verdana; text-align:center">Growth of Startups Founded by Women</h1>
	<canvas id="chart" width="800" height="400"></canvas>
	<script>
		const xlabels=[];
		const ySilicon =[];
		const ySf =[];
		const yCal =[];

		chartIt();

		async function chartIt(){
			await getData();
		const ctx = document.getElementById('chart').getContext('2d');
		const myChart = new Chart(ctx, {
    type: 'line',
    data: {
        labels: xlabels,
        datasets: [
        {
            label: 'Silicon Valley',
            data: ySilicon,
            fill:false,
            backgroundColor: 'rgb(51, 153, 102)',
            borderColor: 'rgb(51, 153, 102)',
            borderWidth: 2
        },
        {
            label: 'San Francisco',
            data: ySf,
            fill:false,
            backgroundColor: 'rgba(255, 99, 132, 1)',
            borderColor: 'rgba(255, 99, 132, 1)',
            borderWidth: 2
        },
        {
            label: 'California',
            data: yCal,
            fill:false,
            backgroundColor: 'rgb(204, 163, 0)',
            borderColor: 'rgb(204, 163, 0)',
            borderWidth: 2
        }
        ]
    },
	options: {
        scales: {
            yAxes: [{
                ticks: {
                	beginAtZero: true,
                    callback: function(value, index, values) {
                        return value + '%';
                    }
                }
            }]
        }
    }
});
}

		async function getData(){
			const response = await fetch('women_startups.csv');
			const data = await response.text();
			const table = data.split('\n').slice(1);
			table.forEach(row=>{
				const columns = row.split(',');
				const year = columns[0];
				xlabels.push(year);
				const silicon= columns[1];
				const sf= columns[2];
				const cal= columns[3];
				ySilicon.push(parseFloat(silicon));
				ySf.push(parseFloat(sf));
				yCal.push(parseFloat(cal));
				console.log(year, silicon);
				console.log(year, sf);
				console.log(year, cal);
			});
		}
		

	</script>

</body>
</html>
