<!DOCTYPE HTML>
<html>
<head>  
<script>
window.onload = function () {

var chart = new CanvasJS.Chart("chartContainer", {
    title: {
        text: "Percentage Growth of Startups Founded by Women",
        fontFamily: "Verdana",
        fontColor: "rgb(96, 32, 64)"
    },
    axisX: {
        title: "Years",
        valueFormatString: "YYYY",
        crosshair: {
            enabled: true,
            snapToDataPoint: true
        }
    },
    axisY2: {
        title: "Percentage",
        gridThickness: 1,
        gridColor: "black",
        crosshair: {
            enabled: true,
            snapToDataPoint: true
        }
    },
    toolTip: {
        shared: true,
                animationEnabled: true

    },
    legend: {
        cursor: "pointer",
        verticalAlign: "top",
        horizontalAlign: "center",
        dockInsidePlotArea: false,
        itemclick: toogleDataSeries,
          fontSize: 15,

    },
    data: [{
        type:"line",

        showInLegend: true,
        color:"rgb(51, 153, 102)",
        axisYType: "primary",
        name: "Total Number of Startups - Silicon Valley",
        showInLegend: true,
        markerSize: 25,
        dataPoints: []       
        //     { label: "1999", y: 8},
        //     { label: "2009", y: 13 },
        //     { label: "2019", y: 28 }
        // ]
    // },
    // {
    //     type: "line",
    //     showInLegend: true,
    //     color:"rgba(255, 99, 132, 1)",
    //     axisYType: "primary",
    //     name: "Total Number of Startups - San Francisco",
    //     showInLegend: true,
    //     markerSize: 10,
    //     dataPoints: []      
    //     //     { label: "1999", y: 14 },
    //     //     { label: "2009", y: 16 },
    //     //     { label: "2019", y: 23 }
    //     // ]
    // },
    // {
    //     type: "line",
    //     showInLegend: true,
    //     axisYType: "primary",
    //     color:"rgb(204, 163, 0)",
    //     name: "Total Number of Startups - California",
    //     showInLegend: true,
    //     markerSize: 10,
    //     dataPoints: []      
    //     //     { label: "1999", y: 10 },
    //     //     { label: "2009", y: 16 },
    //     //     { label: "2019", y: 22 }
    //     // ]
    }
    
          
    ]
});
let siliconData = '<%- JSON.stringify(silicon) %>';
            let obj = JSON.parse(siliconData);
            Object.keys(obj).forEach(function (key) {
                chart.options.data[0].dataPoints.push(
                    { label: JSON.stringify(obj[key].year), y: obj[key].silicon }
                );
            });
chart.render();
let sanData = '<%- JSON.stringify(san) %>';
            let obj = JSON.parse(sanData);
            Object.keys(obj).forEach(function (key) {
                chart.options.data[0].dataPoints.push(
                    { label: JSON.stringify(obj[key].year), y: obj[key].san }
                );
            });
chart.render();
let calData = '<%- JSON.stringify(cal) %>';
            let obj = JSON.parse(calData);
            Object.keys(obj).forEach(function (key) {
                chart.options.data[0].dataPoints.push(
                    { label: JSON.stringify(obj[key].year), y: obj[key].cal }
                );
            });
chart.render();

function toogleDataSeries(e){
    if (typeof(e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
        e.dataSeries.visible = false;
    } else{
        e.dataSeries.visible = true;
    }
    chart.render();
}

}
</script>
</head>
<body>
<div id="chartContainer" style="height: 400px; width: 100%;"></div>
<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
</body>
</html>